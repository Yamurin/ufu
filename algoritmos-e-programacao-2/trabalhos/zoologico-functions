#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <locale.h> // Biblioteca para impressão caracteres do PT-BR

#define TAM_STRING 256

typedef struct {
    char* codigo;
    char* nome;
    char* especie;
    float peso;
    float altura;
} info_animal;

// Assegurar que uma determinada alocação de memória foi bem sucedida.
void confereMalloc (void *ptr)
{
    if(ptr == NULL)
    {
        printf("Erro ao alocar memória. Reinicie o programa.\n");
        exit(1);
    }
}

/*
    brief: Aloca um array contíguo, representando a estrutura dinâmica de três dimensões que contém todos os animais.
    
    parameters: Número de setores, jaulas e animais inseridaos pelo usuário.
    
    return: Endereço na memória com espaço para todos os animais.
*/

info_animal* iniciarZoo (int qtd_setor, int qtd_jaula, int qtd_animal)
{
    info_animal* zoo;
    zoo = calloc(qtd_setor * qtd_jaula * qtd_animal, sizeof(info_animal));
    confereMalloc(zoo);
    printf("Zoológico alocado com espaço para %d animais.\n", qtd_setor * qtd_jaula * qtd_animal);
    return zoo;
}

/*
    parameters: Endereço do ponteiro que aponta para o primeiro animal do zoológico. 
*/
void adicionarAnimal (info_animal **zoo, int i_setor, int i_jaula)
{
    
    (*zoo)[i].codigo;
}

int main ()
{
    setlocale(LC_ALL, "Portuguese");
    info_animal* zoo;
    // Declaração de valores variáveis para os setores, jaulas e animais.
    int* qtd_setor  = calloc(1, sizeof(int));
    confereMalloc(qtd_setor);
    
    int* qtd_jaula  = calloc(1, sizeof(int));
    confereMalloc(qtd_jaula);
    
    int* qtd_animal = calloc(1, sizeof(int));
    confereMalloc(qtd_animal);
    
    printf("Setores - jaulas em cada setor - animais em cada jaula\n");
    scanf("%d %d %d", qtd_setor, qtd_jaula, qtd_animal);
    
    zoo = iniciarZoo (*qtd_setor, *qtd_jaula, *qtd_animal);
    
    return 0;   
}

